<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Top-Up Center - ML Diamonds & PUBG UC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0F172A; /* slate-900 */
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.5); /* slate-800 with opacity */
            backdrop-filter: blur(10px);
            border: 1px solid rgba(51, 65, 85, 0.5); /* slate-700 with opacity */
        }
        .payment-logo {
            height: 50px;
            filter: grayscale(100%);
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        .payment-logo:hover {
            filter: grayscale(0%);
            opacity: 1;
        }
        /* Style for hidden sections for smooth transition */
        .hidden-section {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .visible-section {
            display: block;
            opacity: 1;
        }
        .payment-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, margin-top 0.5s ease-in-out;
        }
    </style>
</head>
<body class="text-white">

    <!-- Header -->
    <header class="bg-slate-900/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-800">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex items-center gap-3">
                <img src="https://drive.google.com/thumbnail?id=15PAgpn34PW6_nOr4UQUo7W9c7KigN0yd&sz=w500" alt="PS GAME STORE Logo" class="h-10 w-10 rounded-full object-cover">
                <span class="font-bold text-xl text-white">PS GAME STORE</span>
            </a>
            <div class="flex space-x-6 items-center">
                <a href="#select-game" class="hidden md:block hover:text-cyan-400 transition duration-300">Select Game</a>
                <a href="#select-game" class="bg-cyan-500 hover:bg-cyan-600 text-slate-900 font-bold py-2 px-4 rounded-lg transition duration-300">Order Now</a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Home Layout - Game Selection -->
        <section id="select-game" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">Choose Your Game</h2>
                    <p class="text-slate-400 mt-2">Select a game to see available packages.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <!-- Mobile Legends Selector Card -->
                    <div id="select-ml" class="glass-card rounded-2xl p-6 text-center cursor-pointer transition-all duration-300 hover:border-cyan-400 hover:scale-105">
                        <img src="https://drive.google.com/thumbnail?id=14_RThMWD-OWrmD7R2rTM3gsjLMUtzWNL&sz=w500" alt="Mobile Legends Logo" class="mx-auto mb-4 h-24 w-24 object-contain rounded-2xl">
                        <h3 class="text-2xl font-bold">Mobile Legends: Bang Bang</h3>
                    </div>
                    <!-- PUBG Mobile Selector Card -->
                    <div id="select-pubg" class="glass-card rounded-2xl p-6 text-center cursor-pointer transition-all duration-300 hover:border-yellow-400 hover:scale-105">
                        <img src="https://drive.google.com/thumbnail?id=15Dapkfgx8Xy0gnEbXoLK51KcrBH6DDqL&sz=w500" alt="PUBG Mobile Logo" class="mx-auto mb-4 h-24 w-24 object-contain rounded-2xl">
                        <h3 class="text-2xl font-bold">PUBG Mobile</h3>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mobile Legends Section (Initially Hidden) -->
        <section id="mobile-legends" class="hidden-section py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">Mobile Legends Packages</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6">
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-cyan-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">60</p><img src="https://drive.google.com/thumbnail?id=19swB7MydLO3eHR-QMAE3BUJbxBPkTMGd&sz=w1000" alt="Diamond Logo" class="w-6 h-6 object-contain"></div><p class="text-xl font-semibold mt-2">$1.10</p></div><button class="buy-now-btn mt-4 bg-cyan-500/80 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="Mobile Legends" data-package-value="ML_60_Diamonds" data-price="$1.10">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-cyan-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">172</p><img src="https://drive.google.com/thumbnail?id=19swB7MydLO3eHR-QMAE3BUJbxBPkTMGd&sz=w1000" alt="Diamond Logo" class="w-6 h-6 object-contain"></div><p class="text-xl font-semibold mt-2">$2.90</p></div><button class="buy-now-btn mt-4 bg-cyan-500/80 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="Mobile Legends" data-package-value="ML_172_Diamonds" data-price="$2.90">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-cyan-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">257</p><img src="https://drive.google.com/thumbnail?id=19swB7MydLO3eHR-QMAE3BUJbxBPkTMGd&sz=w1000" alt="Diamond Logo" class="w-6 h-6 object-contain"></div><p class="text-xl font-semibold mt-2">$4.30</p></div><button class="buy-now-btn mt-4 bg-cyan-500/80 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="Mobile Legends" data-package-value="ML_257_Diamonds" data-price="$4.30">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-cyan-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">514</p><img src="https://drive.google.com/thumbnail?id=19swB7MydLO3eHR-QMAE3BUJbxBPkTMGd&sz=w1000" alt="Diamond Logo" class="w-6 h-6 object-contain"></div><p class="text-xl font-semibold mt-2">$8.50</p></div><button class="buy-now-btn mt-4 bg-cyan-500/80 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="Mobile Legends" data-package-value="ML_514_Diamonds" data-price="$8.50">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-cyan-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">1050</p><img src="https://drive.google.com/thumbnail?id=19swB7MydLO3eHR-QMAE3BUJbxBPkTMGd&sz=w1000" alt="Diamond Logo" class="w-6 h-6 object-contain"></div><p class="text-xl font-semibold mt-2">$17.00</p></div><button class="buy-now-btn mt-4 bg-cyan-500/80 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="Mobile Legends" data-package-value="ML_1050_Diamonds" data-price="$17.00">Buy Now</button></div>
                </div>
            </div>
        </section>

        <!-- PUBG Mobile Section (Initially Hidden) -->
        <section id="pubg" class="hidden-section py-20 bg-slate-900/50">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">PUBG Mobile Packages</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6">
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-yellow-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">60</p><img src="https://drive.google.com/thumbnail?id=19tdT_DgDbgHOxr3tv2KaO3vwesNbrjFw&sz=w1000" alt="UC Logo" class="w-16 h-16 object-contain"></div><p class="text-xl font-semibold mt-2">$0.99</p></div><button class="buy-now-btn mt-4 bg-yellow-500/80 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="PUBG Mobile" data-package-value="PUBG_60_UC" data-price="$0.99">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-yellow-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">325</p><img src="https://drive.google.com/thumbnail?id=19tdT_DgDbgHOxr3tv2KaO3vwesNbrjFw&sz=w1000" alt="UC Logo" class="w-16 h-16 object-contain"></div><p class="text-xl font-semibold mt-2">$4.99</p></div><button class="buy-now-btn mt-4 bg-yellow-500/80 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="PUBG Mobile" data-package-value="PUBG_325_UC" data-price="$4.99">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-yellow-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">660</p><img src="https://drive.google.com/thumbnail?id=19tdT_DgDbgHOxr3tv2KaO3vwesNbrjFw&sz=w1000" alt="UC Logo" class="w-16 h-16 object-contain"></div><p class="text-xl font-semibold mt-2">$9.99</p></div><button class="buy-now-btn mt-4 bg-yellow-500/80 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="PUBG Mobile" data-package-value="PUBG_660_UC" data-price="$9.99">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-yellow-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">1800</p><img src="https://drive.google.com/thumbnail?id=19tdT_DgDbgHOxr3tv2KaO3vwesNbrjFw&sz=w1000" alt="UC Logo" class="w-16 h-16 object-contain"></div><p class="text-xl font-semibold mt-2">$24.99</p></div><button class="buy-now-btn mt-4 bg-yellow-500/80 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="PUBG Mobile" data-package-value="PUBG_1800_UC" data-price="$24.99">Buy Now</button></div>
                    <div class="glass-card text-center p-6 rounded-2xl hover:border-yellow-400 flex flex-col justify-between"><div><div class="flex items-center justify-center gap-2"><p class="text-2xl font-bold">8100</p><img src="https://drive.google.com/thumbnail?id=19tdT_DgDbgHOxr3tv2KaO3vwesNbrjFw&sz=w1000" alt="UC Logo" class="w-16 h-16 object-contain"></div><p class="text-xl font-semibold mt-2">$99.99</p></div><button class="buy-now-btn mt-4 bg-yellow-500/80 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300" data-game="PUBG Mobile" data-package-value="PUBG_8100_UC" data-price="$99.99">Buy Now</button></div>
                </div>
            </div>
        </section>
        
        <!-- Payment Methods Section -->
        <section id="payment" class="hidden-section py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">ငွေပေးချေမှုများ</h2>
                    <p class="text-slate-400 mt-2">အောက်ပါ Account များသို့ ငွေလွှဲနိုင်ပါသည်။</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto">
                    <!-- KBZPay Card -->
                    <div class="payment-card glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300" data-payment-method="KBZPay">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <img src="https://drive.google.com/thumbnail?id=147JMg39gJ0Kj2-N7UnhmBCSf8Bm8jt7x&sz=w500" alt="KBZPay Logo" class="h-8 object-contain">
                                <h3 class="text-lg font-bold text-cyan-400">KBZ PAY</h3>
                            </div>
                            <span class="selected-price text-base font-normal text-slate-300 hidden"></span>
                        </div>
                        <div class="payment-details">
                            <p class="text-sm text-slate-300">Phone No: <span class="font-semibold text-white">09679871352</span></p>
                            <p class="text-sm text-slate-300">Account Name: <span class="font-semibold text-white">Phoe shan</span></p>
                        </div>
                    </div>
                    <!-- WavePay Card -->
                    <div class="payment-card glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300" data-payment-method="WavePay">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <img src="https://drive.google.com/thumbnail?id=15PZrntMHS30NiN5nPA8vuQfg_yaPidO4&sz=w500" alt="WavePay Logo" class="h-8 object-contain">
                                <h3 class="text-lg font-bold text-green-400">Wave Pay</h3>
                            </div>
                            <span class="selected-price text-base font-normal text-slate-300 hidden"></span>
                        </div>
                        <div class="payment-details">
                            <p class="text-sm text-slate-300">Phone No: <span class="font-semibold text-white">09679871352</span></p>
                            <p class="text-sm text-slate-300">Account Name: <span class="font-semibold text-white">Phoe shan</span></p>
                        </div>
                    </div>
                    <!-- SCB EASY BANK Card -->
                    <div class="payment-card glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300" data-payment-method="SCB Easy Bank">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <img src="https://drive.google.com/thumbnail?id=141mrU3g96CgFtE2OtzfNvpCaxHZmnQkA&sz=w500" alt="SCB Easy Logo" class="h-8 object-contain">
                                <h3 class="text-lg font-bold text-purple-400">SCB EASY BANK</h3>
                            </div>
                            <span class="selected-price text-base font-normal text-slate-300 hidden"></span>
                        </div>
                        <div class="payment-details">
                            <p class="text-sm text-slate-300">Bank Account No: <span class="font-semibold text-white">3664768187</span></p>
                            <p class="text-sm text-slate-300">Account Name: <span class="font-semibold text-white">PHOE SHAN</span></p>
                        </div>
                    </div>
                    <!-- TRUEMONEY Card -->
                    <div class="payment-card glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300" data-payment-method="TrueMoney">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <img src="https://drive.google.com/thumbnail?id=149aT4E1C4i-m12DZ9R0iAy8qqkCf4QRC&sz=w1000" alt="TrueMoney Logo" class="h-8 object-contain">
                                <h3 class="text-lg font-bold text-orange-400">TRUEMONEY</h3>
                            </div>
                            <span class="selected-price text-base font-normal text-slate-300 hidden"></span>
                        </div>
                         <div class="payment-details">
                            <p class="text-sm text-slate-300">Phone No: <span class="font-semibold text-white">0951236012</span></p>
                            <p class="text-sm text-slate-300">Account Name: <span class="font-semibold text-white">PHOE SHAN</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Order Form Section -->
        <section id="order" class="hidden-section pt-10 pb-20 bg-slate-900/50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">အော်ဒါတင်ရန်</h2>
                    <p class="text-slate-400 mt-2">သင်၏မှာယူမှုကို အပြီးသတ်ရန် အောက်ပါဖောင်ကို ဖြည့်စွက်ပါ။</p>
                </div>
                
                <div class="max-w-2xl mx-auto glass-card p-8 rounded-2xl">
                    <form action="https://formsubmit.co/your@email.com" method="POST" enctype="multipart/form-data">
                        <input type="hidden" name="_subject" value="New Game Top-Up Order!">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" name="_next" value="https://yourwebsite.com/thankyou.html"> 
                        
                        <div class="mb-6 hidden">
                            <label class="block mb-2 font-bold text-slate-300">ဂိမ်းရွေးချယ်ပါ</label>
                             <input type="radio" name="game" value="Mobile Legends" id="game-ml">
                             <input type="radio" name="game" value="PUBG Mobile" id="game-pubg">
                        </div>
                        
                        <!-- Player Info fields moved here -->
                        <div id="player-info-fields" class="space-y-4 mb-6"></div>

                        <div class="mb-6">
                            <label for="package" class="block mb-2 font-bold text-slate-300">၂. Package ရွေးချယ်ပါ</label>
                            <select id="package" name="package" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" required>
                                <option value="" disabled selected>-- အရင်ဆုံး ဂိမ်းရွေးပါ --</option>
                            </select>
                        </div>
                        
                        <!-- Form Details that appear after package selection -->
                        <div id="form-details" class="opacity-0 max-h-0 overflow-hidden transition-all duration-700 ease-in-out">
                            <div class="mb-6">
                                <label for="contact" class="block mb-2 font-bold text-slate-300">၃. သင်၏ WhatsApp နံပါတ်</label>
                                <input type="tel" id="contact" name="whatsapp_number" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" placeholder="e.g., +959..." required>
                            </div>
                            
                            <div class="mb-6">
                                <label for="payment-method" class="block mb-2 font-bold text-slate-300">၄. ငွေလွှဲသည့်ช่องทาง</label>
                                <select id="payment-method" name="payment_method" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" required>
                                    <option value="" disabled selected>-- ငွေလွှဲသည့်ช่องทางကို ရွေးပါ --</option>
                                    <option value="KBZPay">KBZPay</option>
                                    <option value="WavePay">Wave Pay</option>
                                    <option value="SCB Easy Bank">SCB Easy Bank</option>
                                    <option value="TrueMoney">TrueMoney</option>
                                </select>
                            </div>

                            <div class="mb-6">
                                <label for="payment-proof" class="block mb-2 font-bold text-slate-300">၅. ငွေလွှဲပြေစာ ပုံတင်ရန်</label>
                                <input type="file" id="payment-proof" name="attachment" accept="image/*" class="w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100" required>
                            </div>
                            
                            <button type="submit" class="w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg transition duration-300">
                                အော်ဒါတင်မည်
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800">
        <div class="container mx-auto px-6 py-6 text-center text-slate-400">
            <p>&copy; 2025 Gamer's Hub. All Rights Reserved.</p>
        </div>
    </footer>

<script>
    // Data for game packages
    const packages = {
        "Mobile Legends": [
            { text: "60 Diamonds - $1.10", value: "ML_60_Diamonds" },
            { text: "172 Diamonds - $2.90", value: "ML_172_Diamonds" },
            { text: "257 Diamonds - $4.30", value: "ML_257_Diamonds" },
            { text: "514 Diamonds - $8.50", value: "ML_514_Diamonds" },
            { text: "1050 Diamonds - $17.00", value: "ML_1050_Diamonds" },
        ],
        "PUBG Mobile": [
            { text: "60 UC - $0.99", value: "PUBG_60_UC" },
            { text: "325 UC - $4.99", value: "PUBG_325_UC" },
            { text: "660 UC - $9.99", value: "PUBG_660_UC" },
            { text: "1800 UC - $24.99", value: "PUBG_1800_UC" },
            { text: "8100 UC - $99.99", value: "PUBG_8100_UC" },
        ]
    };

    // DOM Elements
    const selectMlCard = document.getElementById('select-ml');
    const selectPubgCard = document.getElementById('select-pubg');
    const mlPackageSection = document.getElementById('mobile-legends');
    const pubgPackageSection = document.getElementById('pubg');
    const orderFormSection = document.getElementById('order');
    const paymentSection = document.getElementById('payment');
    
    const gameMlRadio = document.getElementById('game-ml');
    const gamePubgRadio = document.getElementById('game-pubg');
    const packageSelect = document.getElementById('package');
    const playerInfoFieldsContainer = document.getElementById('player-info-fields');
    const formDetailsContainer = document.getElementById('form-details');
    
    const paymentCards = document.querySelectorAll('.payment-card');
    const paymentMethodSelect = document.getElementById('payment-method');

    // Event Listeners for Game Selection Cards
    selectMlCard.addEventListener('click', () => showPackages('ml'));
    selectPubgCard.addEventListener('click', () => showPackages('pubg'));
    
    // Event listener for package dropdown
    packageSelect.addEventListener('change', () => {
        if (packageSelect.value) {
            formDetailsContainer.classList.remove('opacity-0', 'max-h-0');
            formDetailsContainer.classList.add('opacity-100', 'max-h-[1000px]');
        } else {
            formDetailsContainer.classList.add('opacity-0', 'max-h-0');
            formDetailsContainer.classList.remove('opacity-100', 'max-h-[1000px]');
        }
    });

    // Event listener for all "Buy Now" buttons
    document.querySelectorAll('.buy-now-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            const game = event.target.dataset.game;
            const packageValue = event.target.dataset.packageValue;
            const price = event.target.dataset.price;

            if (game === 'Mobile Legends') {
                gameMlRadio.checked = true;
            } else if (game === 'PUBG Mobile') {
                gamePubgRadio.checked = true;
            }

            updateFormForGame(game);
            packageSelect.value = packageValue;
            
            // Show price on payment cards
            document.querySelectorAll('.selected-price').forEach(span => {
                span.textContent = `(${price})`;
                span.classList.remove('hidden');
            });

            paymentSection.classList.remove('hidden-section');
            paymentSection.classList.add('visible-section');
            orderFormSection.classList.remove('hidden-section');
            orderFormSection.classList.add('visible-section');
            
            formDetailsContainer.classList.remove('opacity-0', 'max-h-0');
            formDetailsContainer.classList.add('opacity-100', 'max-h-[1000px]');

            paymentSection.scrollIntoView({ behavior: 'smooth' });
        });
    });
    
    // Event Listener for Payment Cards to show details and auto-select in form
    paymentCards.forEach(card => {
        card.addEventListener('click', (event) => {
            const method = event.currentTarget.dataset.paymentMethod;
            const currentDetails = event.currentTarget.querySelector('.payment-details');
            const isActive = currentDetails.style.maxHeight !== '0px';

            // Hide all details and remove all borders
            document.querySelectorAll('.payment-details').forEach(d => {
                d.style.maxHeight = '0px';
                d.style.marginTop = '0';
            });
            paymentCards.forEach(c => c.style.border = '1px solid rgba(51, 65, 85, 0.5)');

            if (!isActive) {
                // Show details for the clicked card
                currentDetails.style.maxHeight = '100px'; // Set to a height that fits content
                currentDetails.style.marginTop = '0.5rem'; // Add margin when open

                // Highlight the clicked card
                event.currentTarget.style.border = '2px solid #22D3EE'; // cyan-400

                // Set the value in the form's dropdown
                paymentMethodSelect.value = method;

                // Scroll to the order form to continue filling
                orderFormSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                // If it was already active, clicking it again will hide it (toggle off)
                // and reset the dropdown
                paymentMethodSelect.value = "";
            }
        });
    });

    // Use event delegation for the dynamically created check button
    playerInfoFieldsContainer.addEventListener('click', function(event) {
        if (event.target && event.target.id === 'check-ml-name-btn') {
            checkPlayerName();
        }
    });

    async function checkPlayerName() {
        const userIdInput = document.getElementById('ml-user-id');
        const zoneIdInput = document.getElementById('ml-zone-id');
        const resultDiv = document.getElementById('ml-player-name-result');

        if (!userIdInput || !zoneIdInput) return;

        const userId = userIdInput.value.trim();
        const zoneId = zoneIdInput.value.trim();

        if (!userId || !zoneId) {
            resultDiv.textContent = 'User ID နှင့် Zone ID နှစ်ခုလုံးကို ထည့်သွင်းပါ။';
            resultDiv.classList.add('text-red-400');
            return;
        }
        
        resultDiv.textContent = 'စစ်ဆေးနေသည်...';
        resultDiv.classList.remove('text-red-400', 'text-green-400');
        
        try {
            // IMPORTANT: Replace 'check_player.php' with the full URL to your PHP script on your server.
            const response = await fetch(`check_player.php?userID=${userId}&zoneID=${zoneId}`);
            const data = await response.json();

            if (data.success && data.username) {
                resultDiv.textContent = `ကစားသမားအမည်: ${data.username}`;
                resultDiv.classList.add('text-green-400');
            } else {
                resultDiv.textContent = data.error || 'ကစားသမားအမည် ရှာမတွေ့ပါ။';
                resultDiv.classList.add('text-red-400');
            }
        } catch (error) {
            console.error('Error:', error);
            resultDiv.textContent = 'Error ဖြစ်နေပါသည်။ Console ကိုစစ်ဆေးပါ။';
            resultDiv.classList.add('text-red-400');
        }
    }

    function showPackages(game) {
        // Hide prices when a new game is selected
        document.querySelectorAll('.selected-price').forEach(span => {
            span.classList.add('hidden');
            span.textContent = '';
        });

        if (game === 'ml') {
            mlPackageSection.classList.remove('hidden-section');
            mlPackageSection.classList.add('visible-section');
            pubgPackageSection.classList.add('hidden-section');
            pubgPackageSection.classList.remove('visible-section');
            gameMlRadio.checked = true;
            updateFormForGame('Mobile Legends');
            mlPackageSection.scrollIntoView({ behavior: 'smooth' });
        } else if (game === 'pubg') {
            pubgPackageSection.classList.remove('hidden-section');
            pubgPackageSection.classList.add('visible-section');
            mlPackageSection.classList.add('hidden-section');
            mlPackageSection.classList.remove('visible-section');
            gamePubgRadio.checked = true;
            updateFormForGame('PUBG Mobile');
            pubgPackageSection.scrollIntoView({ behavior: 'smooth' });
        }
    }

    function updateFormForGame(selectedGame) {
        updatePackageOptions(selectedGame);
        updatePlayerInfoFields(selectedGame);
        formDetailsContainer.classList.add('opacity-0', 'max-h-0');
        formDetailsContainer.classList.remove('opacity-100', 'max-h-[1000px]');
    }

    function updatePackageOptions(game) {
        packageSelect.innerHTML = '<option value="" disabled selected>-- Package ရွေးချယ်ပါ --</option>'; // Reset
        if (packages[game]) {
            packages[game].forEach(pkg => {
                const option = document.createElement('option');
                option.value = pkg.value;
                option.textContent = pkg.text;
                packageSelect.appendChild(option);
            });
        }
    }

    function updatePlayerInfoFields(game) {
        playerInfoFieldsContainer.innerHTML = ''; // Clear previous fields
        let fieldsHtml = '';

        if (game === 'Mobile Legends') {
            fieldsHtml = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="ml-user-id" class="block mb-2 font-bold text-slate-300">၁. User ID</label>
                        <input type="text" id="ml-user-id" name="ml_user_id" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg" placeholder="Enter your User ID" required>
                    </div>
                    <div>
                        <label for="ml-zone-id" class="block mb-2 font-bold text-slate-300">Zone ID</label>
                        <input type="text" id="ml-zone-id" name="ml_zone_id" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg" placeholder="(1234)" required>
                    </div>
                </div>
                <div class="mt-4">
                    <button type="button" id="check-ml-name-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">ကစားသမားအမည် စစ်ဆေးရန်</button>
                    <div id="ml-player-name-result" class="mt-2 text-center text-slate-300 h-6"></div>
                </div>
            `;
        } else if (game === 'PUBG Mobile') {
            fieldsHtml = `
                <div>
                    <label for="pubg-player-id" class="block mb-2 font-bold text-slate-300">၁. Player ID</label>
                    <input type="text" id="pubg-player-id" name="pubg_player_id" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg" placeholder="Enter your Player ID" required>
                </div>
            `;
        }
        playerInfoFieldsContainer.innerHTML = fieldsHtml;
    }
</script>

</body>
</html>

